<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>

    <!--____LINKS AQUI____-->
    <link rel="stylesheet" href="./css/signup.css">
    <link rel="stylesheet" href="./css/alerts.css">
    <link rel="stylesheet" href="./css/modal_termos.css">
    <link rel="shortcut icon" href="./imagens/favicon-32x32.png" type="image/x-icon">
    <!--____-->

</head>

<header>
    <div class="header-content"> <!--Todo conteúdo da HEADER está dentro de uma div-->
    <div class="wrapper">
    <img src="./imagens/logo-sgpi.png" alt="" class="logo-image">
    <h1>SGPI</h1>
    </div>
    
    </div>
</header>

<body>
    <body>
    <div class="container"> <!--Div container para facilitar configurações globais-->
    <div class="signup-box"> <!--Div que abriga todo espaço de cadastro-->
    <form class="signup-info"> <!-- Formulário de cadastro -->
    <div class="signup-form">
    <label for="nome">Nome</label>
    <input type="text" id="nome" name="nome" placeholder="Digite aqui" class="signup-input" required autocomplete="off">
    </div>
    
    <div class="signup-form">
    <label for="email">E-mail institucional</label>
    <input type="email" id="email" name="email" placeholder="Digite aqui" class="signup-input" required autocomplete="off">
    <span id="emailError"></span> 
    </div>
    
    <div class="signup-form">
    <label>Perfil</label>
    <div>
    <input type="radio" id="perfilAluno" name="perfil" value="aluno" required>
    <label for="perfilAluno">Aluno</label>
    
    <input type="radio" id="perfilProfessor" name="perfil" value="professor">
    <label for="perfilProfessor">Professor</label>
    </div>
    </div>
    
    <!-- Campos que mudam conforme perfil -->
    <div class="signup-form" id="materiasBox">
    <label>Matérias</label>
    <div class="materias-list">
    <label><input type="checkbox" name="materias" value="design digital"> Design Digital</label>
    <label><input type="checkbox" name="materias" value="desenvolvimento web I"> Desenvolvimento Web I</label>
    <label><input type="checkbox" name="materias" value="desenvolvimento web II"> Desenvolvimento Web II</label>
    <label><input type="checkbox" name="materias" value="desenvolvimento web III"> Desenvolvimento Web III</label>
    <label><input type="checkbox" name="materias" value="engenharia de software I"> Engenharia de Software I</label>
    <label><input type="checkbox" name="materias" value="engenharia de software II"> Engenharia de Software II</label>
    <label><input type="checkbox" name="materias" value="banco de dados relacional"> Banco de Dados Relacional</label>
    <label><input type="checkbox" name="materias" value="banco de dados não relacional"> Banco de Dados Não Relacional</label>
    <label><input type="checkbox" name="materias" value="interação humano computador"> Interação Humano Computador</label>
    <label><input type="checkbox" name="materias" value="gestao agil de projetos de software"> Gestão Ágil de Projetos de Software</label>
    <label><input type="checkbox" name="materias" value="laboratorio de desenvolvimento web"> Laboratório de Desenvolvimento Web</label>
    <label><input type="checkbox" name="materias" value="experiencia do usuario"> Experiência do Usuário</label>
    <label><input type="checkbox" name="materias" value="programação para dispositivos moveis II"> Programação para Dispositivos Móveis II</label>
    <label><input type="checkbox" name="materias" value="laboratorio de desenvolvimento mobile"> Laboratório de Desenvolvimento Mobile</label>
    <label><input type="checkbox" name="materias" value="qualidade e testes de software"> Qualidade e Testes de Software</label>
    <label><input type="checkbox" name="materias" value="laboratorio de desenvolvimento multiplataforma"> Laboratório de Desenvolvimento Multiplataforma</label>
    </div>
    </div>
    
    
    <div class="signup-form" id="chaveProfessorBox" style="display:none;">
    <label for="chaveProfessor">Palavra-chave</label>
    <input type="text" id="chaveProfessor" name="chaveProfessor" class="signup-input" placeholder="Digite a chave fornecida pelo coordenador" >
    </div>
    

    <div class="signup-form">
    <label for="senha">Senha</label>
    <input type="password" id="senha" name="senha" placeholder="Digite aqui" class="signup-input" required autocomplete="new-password">
    </div>
    
    <div class="signup-form">
    <label for="confirmar-senha">Digite a senha novamente</label>
    <input type="password" id="confirmar-senha" name="confirmar-senha" placeholder="Digite aqui" class="signup-input" required autocomplete="new-password">
    <span id="passwordError"></span> 
    </div>
    
    <div class="signup-actions">
    
    <button type="button" class="signup-button" id="cadastrarBtn">Cadastrar</button>
    </div>
    </form>
    
    
    </div>
    <div class="greeting"> <!--Div para dividir o formulário e o banner de boas vindas-->
    <h3>Bem vindo ao Sistema Gerenciador de Projetos Interdisciplinares</h3>
    <br>
    <p class="greeting-paragraph">Já tem uma conta? <a href="./index">Entre aqui</a></p>
    
    </div>

    <!-- Modal de Termos de Uso -->
    <div id="termosModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Termos de Uso - SGPI</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <div class="termos-content">
                    <h3>1. ACEITAÇÃO DOS TERMOS</h3>
                    <p>Ao utilizar o Sistema Gerenciador de Projetos Interdisciplinares (SGPI), você concorda em cumprir e estar vinculado aos presentes Termos de Uso. Se você não concordar com qualquer parte destes termos, não deve utilizar o sistema.</p>

                    <h3>2. DESCRIÇÃO DO SERVIÇO</h3>
                    <p>O SGPI é uma plataforma educacional destinada ao gerenciamento de projetos interdisciplinares no ambiente acadêmico, facilitando a colaboração entre alunos e professores, o acompanhamento de atividades e a organização de projetos educacionais.</p>

                    <h3>3. CADASTRO E CONTA DE USUÁRIO</h3>
                    <p>3.1. Para utilizar o SGPI, é necessário criar uma conta fornecendo informações precisas e atualizadas.</p>
                    <p>3.2. Você é responsável por manter a confidencialidade de sua senha e por todas as atividades realizadas em sua conta.</p>
                    <p>3.3. O cadastro é restrito a membros da comunidade acadêmica com e-mail institucional válido.</p>
                    <p>3.4. Professores devem utilizar a palavra-chave fornecida pela coordenação para validar seu perfil.</p>

                    <h3>4. USO ADEQUADO DO SISTEMA</h3>
                    <p>4.1. O SGPI deve ser utilizado exclusivamente para fins educacionais e acadêmicos.</p>
                    <p>4.2. É proibido utilizar o sistema para:</p>
                    <ul>
                        <li>Atividades ilegais ou não autorizadas</li>
                        <li>Compartilhamento de conteúdo ofensivo, discriminatório ou inadequado</li>
                        <li>Violação de direitos autorais ou propriedade intelectual</li>
                        <li>Interferência no funcionamento do sistema ou tentativas de acesso não autorizado</li>
                    </ul>

                    <h3>5. PROPRIEDADE INTELECTUAL</h3>
                    <p>5.1. O conteúdo criado pelos usuários permanece de sua propriedade.</p>
                    <p>5.2. O sistema SGPI e sua interface são protegidos por direitos autorais.</p>
                    <p>5.3. Ao utilizar o sistema, você concede permissão para que o conteúdo seja exibido e compartilhado dentro do ambiente acadêmico conforme necessário para o funcionamento dos projetos.</p>

                    <h3>6. PRIVACIDADE E PROTEÇÃO DE DADOS</h3>
                    <p>6.1. Coletamos apenas as informações necessárias para o funcionamento do sistema.</p>
                    <p>6.2. Seus dados pessoais são protegidos conforme a Lei Geral de Proteção de Dados (LGPD).</p>
                    <p>6.3. As informações não serão compartilhadas com terceiros sem seu consentimento, exceto quando exigido por lei.</p>

                    <h3>7. RESPONSABILIDADES DO USUÁRIO</h3>
                    <p>7.1. Manter suas informações de cadastro atualizadas.</p>
                    <p>7.2. Utilizar o sistema de forma responsável e ética.</p>
                    <p>7.3. Respeitar os prazos e diretrizes dos projetos.</p>
                    <p>7.4. Comunicar imediatamente qualquer uso não autorizado de sua conta.</p>

                    <h3>8. LIMITAÇÕES DE RESPONSABILIDADE</h3>
                    <p>8.1. O SGPI é fornecido "como está", sem garantias expressas ou implícitas.</p>
                    <p>8.2. Não nos responsabilizamos por perdas de dados, interrupções do serviço ou danos decorrentes do uso do sistema.</p>
                    <p>8.3. É responsabilidade do usuário manter backups de seus trabalhos importantes.</p>

                    <h3>9. MODIFICAÇÕES DO SERVIÇO</h3>
                    <p>9.1. Reservamo-nos o direito de modificar, suspender ou descontinuar o serviço a qualquer momento.</p>
                    <p>9.2. Alterações significativas serão comunicadas aos usuários com antecedência razoável.</p>

                    <h3>10. VIOLAÇÕES E PENALIDADES</h3>
                    <p>10.1. O descumprimento destes termos pode resultar na suspensão ou cancelamento da conta.</p>
                    <p>10.2. Casos graves podem ser reportados às autoridades competentes da instituição.</p>

                    <h3>11. ALTERAÇÕES DOS TERMOS</h3>
                    <p>11.1. Estes termos podem ser atualizados periodicamente.</p>
                    <p>11.2. Usuários serão notificados sobre mudanças significativas.</p>
                    <p>11.3. O uso continuado do sistema após as alterações constitui aceitação dos novos termos.</p>

                    <h3>12. CONTATO</h3>
                    <p>Para dúvidas sobre estes termos ou sobre o SGPI, entre em contato através dos canais oficiais da instituição.</p>

                    <h3>13. DISPOSIÇÕES GERAIS</h3>
                    <p>13.1. Estes termos são regidos pela legislação brasileira.</p>
                    <p>13.2. Eventuais disputas serão resolvidas no foro da comarca da instituição.</p>

                    <p class="data-atualizacao"><strong>Última atualização:</strong> Setembro de 2024</p>
                </div>
            </div>
            <div class="modal-footer">
                <div class="scroll-indicator" id="scrollIndicator">
                    Role até o final para aceitar os termos
                </div>
                <div class="modal-actions">
                    <button class="btn-cancelar" id="cancelarTermos">Cancelar</button>
                    <button class="btn-aceitar" id="aceitarTermos" disabled>Aceitar e Cadastrar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="./javaScript/utils/fetchHelper.js"></script>
    
    <script type="module" src="./javaScript/front_end/Cadastro.js"></script>
    <script>
        // Script para controle do modal de termos
        document.addEventListener('DOMContentLoaded', function() {
            const cadastrarBtn = document.getElementById('cadastrarBtn');
            const termosModal = document.getElementById('termosModal');
            const closeModal = document.getElementById('closeModal');
            const cancelarTermos = document.getElementById('cancelarTermos');
            const aceitarTermos = document.getElementById('aceitarTermos');
            const modalBody = document.getElementById('modalBody');
            const scrollIndicator = document.getElementById('scrollIndicator');

            // Abrir modal ao clicar em cadastrar
            cadastrarBtn.addEventListener('click', function(e) {
                e.preventDefault();
                termosModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });

            // Fechar modal
            function fecharModal() {
                termosModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                // Reset do scroll e botão
                modalBody.scrollTop = 0;
                aceitarTermos.disabled = true;
                scrollIndicator.style.display = 'block';
            }

            closeModal.addEventListener('click', fecharModal);
            cancelarTermos.addEventListener('click', fecharModal);

            // Fechar modal clicando fora
            termosModal.addEventListener('click', function(e) {
                if (e.target === termosModal) {
                    fecharModal();
                }
            });

            // Detectar scroll até o final
            modalBody.addEventListener('scroll', function() {
                const scrollTop = modalBody.scrollTop;
                const scrollHeight = modalBody.scrollHeight;
                const clientHeight = modalBody.clientHeight;
                
                // Se chegou ao final (com margem de 10px)
                if (scrollTop + clientHeight >= scrollHeight - 10) {
                    aceitarTermos.disabled = false;
                    scrollIndicator.style.display = 'none';
                }
            });

            // Aceitar termos e prosseguir com cadastro
            aceitarTermos.addEventListener('click', function() {
                fecharModal();
                // Aqui você pode chamar a função original do Cadastro.js
                // ou disparar o evento de submit do formulário
                const form = document.querySelector('.signup-info');
                const submitEvent = new Event('submit', { bubbles: true, cancelable: true });
                form.dispatchEvent(submitEvent);
            });
        });
    </script>
    <script src="https://cdn.userway.org/widget.js" data-account="6gTjstshf2"></script>
    
</body>
</html>